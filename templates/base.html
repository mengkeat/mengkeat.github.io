<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{% block description %}A blog about daily thoughts and learning{% endblock %}">
    <link rel="icon" type="image/svg+xml" href="/static/favicon.ico">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

    <!-- KaTeX CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"
          integrity="sha384-n8MVd4RsNIU0tAv4ct0nTaAbDJwPJzDEaqSD1odI+WdtXRGWt2kTvGFasHpSy3SV"
          crossorigin="anonymous">

    <!-- KaTeX JavaScript -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"
            integrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctmUb0ZY0l8"
            crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"
            integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
            crossorigin="anonymous"
            onload="renderMathInElement(document.body, {
                delimiters: [
                    {left: '$$', right: '$$', display: true},
                    {left: '$', right: '$', display: false}
                ],
                throwOnError: false
            });"></script>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#333333',
                        secondary: '#666666',
                        muted: '#999999',
                        link: '#2563eb',
                        'link-hover': '#1d4ed8',
                        bg: '#ffffff',
                        'bg-alt': '#f9fafb',
                    },
                    fontFamily: {
                        serif: ['Lora', 'Georgia', 'serif'],
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>

    <!-- Custom styles -->
    <style>
        body { font-family: 'Lora', Georgia, serif; }
        
        .codehilite { background: #f8f8f8; padding: 1rem; border-radius: 0.25rem; overflow-x: auto; margin: 1.5rem 0; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; font-size: 0.875rem; }
        .codehilite pre { margin: 0; }

        /* Prose styling for markdown content */
        .prose { max-width: none; }
        .prose h1 { font-size: 1.875rem; font-weight: 600; margin: 2rem 0 1rem; color: #333; font-family: 'Lora', Georgia, serif; }
        .prose h2 { font-size: 1.5rem; font-weight: 600; margin: 1.75rem 0 0.875rem; color: #333; font-family: 'Lora', Georgia, serif; }
        .prose h3 { font-size: 1.25rem; font-weight: 600; margin: 1.5rem 0 0.75rem; color: #333; font-family: 'Lora', Georgia, serif; }
        .prose p { margin: 1rem 0; line-height: 1.8; color: #444; }
        .prose a { color: #2563eb; text-decoration: none; }
        .prose a:hover { text-decoration: underline; }
        .prose ul, .prose ol { margin: 1rem 0; padding-left: 1.5rem; color: #444; line-height: 1.8; }
        .prose li { margin: 0.375rem 0; }
        .prose code { background: #f3f4f6; padding: 0.125rem 0.375rem; border-radius: 0.25rem; font-size: 0.875em; color: #333; font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace; }
        .prose pre code { background: none; padding: 0; }
        .prose blockquote { border-left: 3px solid #ddd; padding-left: 1rem; margin: 1.5rem 0; color: #666; font-style: italic; }
        .prose img { max-width: 100%; height: auto; margin: 1.5rem 0; }
        .prose hr { border: none; border-top: 1px solid #e5e7eb; margin: 2rem 0; }
        .prose table { width: 100%; border-collapse: collapse; margin: 1.5rem 0; }
        .prose th, .prose td { border: 1px solid #e5e7eb; padding: 0.5rem 0.75rem; text-align: left; }
        .prose th { background: #f9fafb; font-weight: 600; }

        /* Post list styling */
        .post-list li { margin: 0.5rem 0; }
        .post-list li::marker { color: #666; }
        
        /* Sidebar styling */
        .sidebar-link { color: #2563eb; text-decoration: none; }
        .sidebar-link:hover { text-decoration: underline; }
    </style>

    <title>{% block title %}Mengkeat's Blog{% endblock %}</title>
</head>
<body class="bg-white text-primary antialiased">
    <div class="min-h-screen">
        <!-- Two Column Layout -->
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12">
            <div class="flex flex-col md:flex-row md:gap-12 lg:gap-16">
                
                <!-- Sidebar -->
                <aside class="md:w-64 lg:w-72 flex-shrink-0 mb-8 md:mb-0">
                    <div class="md:sticky md:top-8">
                        <!-- Site Title -->
                        <h1 class="text-2xl font-semibold mb-6">
                            <a href="/" class="text-primary hover:text-link transition-colors">Mengkeat's Blog</a>
                        </h1>
                        
                        <!-- Author Info -->
                        <div class="mb-6">
                            <p class="text-secondary text-sm leading-relaxed">
                                A personal blog on programming, technology, and things I learn along the way.
                            </p>
                        </div>
                        
                        <!-- Navigation -->
                        <nav class="border-t border-gray-200 pt-6">
                            <h2 class="text-xs font-sans font-semibold text-muted uppercase tracking-wide mb-3">Navigation</h2>
                            <ul class="space-y-2 text-sm">
                                <li><a href="/" class="sidebar-link">Home</a></li>
                                <li><a href="/blog/" class="sidebar-link">Blog</a></li>
                                <li><a href="/til/" class="sidebar-link">TIL</a></li>
                                <li><a href="/tags/" class="sidebar-link">Tags</a></li>
                            </ul>
                        </nav>
                    </div>
                </aside>

                <!-- Main Content -->
                <main class="flex-1 min-w-0">
                    {% block content %}{% endblock %}
                </main>
            </div>
        </div>

        <!-- Footer -->
        <footer class="border-t border-gray-200 mt-16">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                <p class="text-muted text-sm text-center">
                    Â© {{ now.year }} Mengkeat. Built with Python.
                </p>
            </div>
        </footer>
    </div>
</body>
</html>
